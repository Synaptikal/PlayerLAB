{"version":3,"file":"app/api/tools/draft-analyzer/route.js","mappings":"kFAAAA,CAAAA,EAAAC,OAAA,CAAAC,QAAA,yCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,uVCAO,eAAeC,EAAoBC,CAAgB,CAAEC,CAAkB,EAC5E,IAAMC,EAAS,CAAC,mBAAmB,EAAEF,EAAOG,IAAI,CAAC,MAAM,kCAAkC,EAAEF,EAAW,QAAQ,CAAC,CAEzGG,EAAW,MAAMC,MAAM,sEAAuE,CAClGC,OAAQ,OACRC,QAAS,CACPC,cAAe,CAAC,OAAO,EAAEC,QAAQC,GAAG,CAACC,mBAAmB,CAAC,CAAC,CAC1D,eAAgB,kBAClB,EACAC,KAAMC,KAAKC,SAAS,CAAC,CAAEC,OAAQb,CAAO,EACxC,GAEMc,EAAS,MAAMZ,EAASa,IAAI,GAElC,MAAOC,CADSF,CAAM,CAAC,EAAE,EAAEG,cAAgB,mBAC5BC,KAAK,CAAC,WAAWC,MAAM,CAACC,QACzC,CCZO,IAAMC,EAAU,OAEhB,eAAeC,EAAKC,CAAgB,EAEzC,GAAM,CAAEzB,OAAAA,CAAM,CAAEC,WAAAA,CAAU,CAAE,CADf,MAAMwB,EAAIR,IAAI,GAG3B,GAAI,CACF,IAAMS,EAAc,MAAM3B,EAAoBC,EAAQC,GACtD,OAAO,IAAI0B,SAASd,KAAKC,SAAS,CAAC,CAAEY,YAAAA,CAAY,GAAI,CAAEE,OAAQ,GAAI,EACrE,CAAE,MAAOC,EAAG,CACV,OAAO,IAAIF,SAAS,wBAAyB,CAAEC,OAAQ,GAAI,EAC7D,CACF,CCRA,IAAAE,EAAA,IAAwBC,EAAAC,mBAAmB,EAC3CC,WAAA,CACAC,KAAcC,EAAAC,CAAS,CAAAC,SAAA,CACvBC,KAAA,kCACAC,SAAA,4BACAC,SAAA,QACAC,WAAA,oCACA,EACAC,iBAAA,2DACAC,iBAVA,GAWAC,SAAYC,CACZ,GAIA,CAAQC,oBAAAA,CAAA,CAAAC,6BAAAA,CAAA,CAAAC,YAAAA,CAAA,EAAiElB,EACzEmB,EAAA,kCACA,SAAAC,IACA,MAAW,GAAAC,EAAAC,EAAA,EAAW,CACtBJ,YAAAA,EACAD,6BAAAA,CACA,EACA,CC1BO,IAAAM,EAAqBC,EAC5BC,EAAeC,EAAAC,CAAsB,CAAAC,IAAA,CAAM5B","sources":["webpack://_N_E/external commonjs \"node:async_hooks\"","webpack://_N_E/external commonjs \"node:buffer\"","webpack://_N_E/./lib/ai/draftKit.ts","webpack://_N_E/./app/api/tools/draft-analyzer/route.ts","webpack://_N_E/./app/api/tools/draft-analyzer/route.ts?d4b7","webpack://_N_E/"],"sourcesContent":["module.exports = require(\"node:async_hooks\");","module.exports = require(\"node:buffer\");","export async function getDraftSuggestions(roster: string[], leagueType: string): Promise<string[]> {\r\n  const prompt = `Given this roster: ${roster.join(', ')}, suggest top 5 draft picks for a ${leagueType} league.`;\r\n\r\n  const response = await fetch('https://api-inference.huggingface.co/models/facebook/bart-large-cnn', {\r\n    method: 'POST',\r\n    headers: {\r\n      Authorization: `Bearer ${process.env.HUGGINGFACE_API_KEY}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ inputs: prompt }),\r\n  });\r\n\r\n  const result = await response.json();\r\n  const summary = result[0]?.summary_text ?? 'No suggestions.';\r\n  return summary.split(/\\d+\\.\\s/).filter(Boolean);\r\n} ","import { NextRequest } from 'next/server';\r\nimport { getDraftSuggestions } from '@/lib/ai/draftKit';\r\n\r\nexport const runtime = 'edge';\r\n\r\nexport async function POST(req: NextRequest) {\r\n  const body = await req.json();\r\n  const { roster, leagueType } = body;\r\n\r\n  try {\r\n    const suggestions = await getDraftSuggestions(roster, leagueType);\r\n    return new Response(JSON.stringify({ suggestions }), { status: 200 });\r\n  } catch (e) {\r\n    return new Response('Draft analysis failed', { status: 500 });\r\n  }\r\n} ","import { AppRouteRouteModule } from \"next/dist/server/future/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/server/future/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/server/lib/patch-fetch\";\nimport * as userland from \"C:\\\\PlayerLAB\\\\app\\\\api\\\\tools\\\\draft-analyzer\\\\route.ts\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/tools/draft-analyzer/route\",\n        pathname: \"/api/tools/draft-analyzer\",\n        filename: \"route\",\n        bundlePath: \"app/api/tools/draft-analyzer/route\"\n    },\n    resolvedPagePath: \"C:\\\\PlayerLAB\\\\app\\\\api\\\\tools\\\\draft-analyzer\\\\route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/tools/draft-analyzer/route\";\nfunction patchFetch() {\n    return _patchFetch({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\nexport { routeModule, requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, originalPathname, patchFetch,  };\n\n//# sourceMappingURL=app-route.js.map","import { EdgeRouteModuleWrapper } from \"next/dist/server/web/edge-route-module-wrapper\";\n// Import the userland code.\nimport * as module from \"next-app-loader?name=app%2Fapi%2Ftools%2Fdraft-analyzer%2Froute&page=%2Fapi%2Ftools%2Fdraft-analyzer%2Froute&pagePath=private-next-app-dir%2Fapi%2Ftools%2Fdraft-analyzer%2Froute.ts&appDir=C%3A%5CPlayerLAB%5Capp&appPaths=%2Fapi%2Ftools%2Fdraft-analyzer%2Froute&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!private-next-app-dir/api/tools/draft-analyzer/route.ts?__next_edge_ssr_entry__\";\nexport const ComponentMod = module;\nexport default EdgeRouteModuleWrapper.wrap(module.routeModule);\n\n//# sourceMappingURL=edge-app-route.js.map"],"names":["module","exports","require","getDraftSuggestions","roster","leagueType","prompt","join","response","fetch","method","headers","Authorization","process","env","HUGGINGFACE_API_KEY","body","JSON","stringify","inputs","result","json","summary","summary_text","split","filter","Boolean","runtime","POST","req","suggestions","Response","status","e","routeModule","module_compiled","AppRouteRouteModule","definition","kind","route_kind","x","APP_ROUTE","page","pathname","filename","bundlePath","resolvedPagePath","nextConfigOutput","userland","route_namespaceObject","requestAsyncStorage","staticGenerationAsyncStorage","serverHooks","originalPathname","patchFetch","patch_fetch","XH","ComponentMod","route_next_edge_ssr_entry_namespaceObject","next_edge_app_route_loaderabsolutePagePath_private_next_app_dir_2Fapi_2Ftools_2Fdraft_analyzer_2Froute_ts_page_2Fapi_2Ftools_2Fdraft_analyzer_2Froute_appDirLoader_bmV4dC1hcHAtbG9hZGVyP25hbWU9YXBwJTJGYXBpJTJGdG9vbHMlMkZkcmFmdC1hbmFseXplciUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdG9vbHMlMkZkcmFmdC1hbmFseXplciUyRnJvdXRlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdG9vbHMlMkZkcmFmdC1hbmFseXplciUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDUGxheWVyTEFCJTVDYXBwJmFwcFBhdGhzPSUyRmFwaSUyRnRvb2xzJTJGZHJhZnQtYW5hbHl6ZXIlMkZyb3V0ZSZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCE_3D_nextConfigOutput_preferredRegion_middlewareConfig_e30_3D_","edge_route_module_wrapper","a","wrap"],"sourceRoot":""}